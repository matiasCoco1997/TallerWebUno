<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>

  <title>Taller Web I</title>

  <!-- Boostrap core css -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <!-- custom style -->
  <link rel="stylesheet" th:href="@{/css/main.css}"/>

  <!-- Boostrap core js -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</head>

<body>

<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="#">UNLAM</a>
</nav>

<main role="main" class="container">
  <div class = "container">
    <h1>Bienvenidos a Taller Web 1</h1>

    <a href="login" class="btn btn-lg btn-primary btn-block">Volver</a>
  </div>

  <p style="font-weight: bold">Lista de noticias:</p>

  <div style="background-color: rgba(255,0,0,0.57); margin-bottom: 20px">
    <h3>Mail del usuario:</h3>
    <p th:text="${sessionUsuarioLogueado.email}"></p>
  </div>

  <div style="background-color: rgba(255,0,0,0.57); margin-bottom: 20px">
    <h3>img del usuario:</h3>
    <img th:src="@{${sessionUsuarioLogueado.fotoPerfil}}"class="lg:w-[45%] w-[70%]" th:alt="${sessionUsuarioLogueado.altFotoPerfil}">
  </div>

  <a href="/sunn/noticia/crear">Crear Noticia</a>

  <div th:each="noticia : ${noticias}" style="background-color: rgba(255,0,0,0.57); margin-bottom: 20px">

    <h3>Titulo de Noticia:</h3>
    <p th:text="${noticia.titulo}"></p>

    <h3>Categoria de Noticia:</h3>
    <p th:text="${noticia.categoria}"></p>

    <h3>Resumen de Noticia:</h3>
    <p th:text="${noticia.resumen}"></p>

    <h3>Descripci√≥n de Noticia:</h3>
    <p th:text="${noticia.descripcion}"></p>

    <p>Imagen de la Noticia:</p>
    <img th:src="@{${noticia.rutaDeimagen}}"class="lg:w-[45%] w-[70%]" th:alt="${noticia.altDeImagen}">

    <h3>Estado de Noticia:</h3>
    <p th:text="${noticia.activa}"></p>

    <h3>Audio de Noticia:</h3>
    <audio id="miAudio" th:src="@{${noticia.rutaDeAudioPodcast}}"></audio>
    <button onclick="togglePlayPause()">Play</button>

  </div>

</main>
<!-- /.container -->


</body>

<script>
  var miAudio = document.getElementById('miAudio');

  function togglePlayPause() {
    if (miAudio.paused) {
      miAudio.play();
      document.querySelector('button').innerText = 'Pause';
    } else {
      miAudio.pause();
      document.querySelector('button').innerText = 'Play';
    }
  }
</script>
</html>